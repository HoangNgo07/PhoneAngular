{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AcountComponent = class AcountComponent {\n  constructor(DataService) {\n    this.DataService = DataService;\n  }\n  ngOnInit() {\n    this.load_profile();\n    this.load_order();\n  }\n  load_profile() {\n    this.DataService.post('/account/profile', {\n      phonenumber: localStorage.getItem('phone')\n    }).then(req => {\n      this.profile = req.result;\n    });\n  }\n  change_email() {\n    const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (emailRegex.test(this.profile.email)) {\n      this.DataService.patch('/account/verify-email', {\n        newEmail: this.profile.email,\n        phonenumber: localStorage.getItem('phone')\n      }).then(req => {\n        this.profile = req.user;\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n  load_order() {\n    this.DataService.get(\"/account/orders\").then(req => {\n      this.orders = req.data;\n    });\n  }\n};\nAcountComponent = __decorate([Component({\n  selector: 'app-acount',\n  templateUrl: './acount.component.html',\n  styleUrls: ['./acount.component.scss']\n})], AcountComponent);\nexport { AcountComponent };","map":{"version":3,"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAG1BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;EAAiB;EAChDC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;IACnB,IAAI,CAACC,UAAU,EAAE;EACnB;EACAD,YAAY;IACV,IAAI,CAACF,WAAW,CAACI,IAAI,CAAC,kBAAkB,EAAE;MAAEC,WAAW,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;IAAC,CAAE,CAAC,CAACC,IAAI,CAAEC,GAAQ,IAAI;MAC1G,IAAI,CAACC,OAAO,GAAGD,GAAG,CAACE,MAAM;IAC3B,CAAC,CAAC;EACJ;EACAC,YAAY;IACV,MAAMC,UAAU,GAAG,+CAA+C;IAClE,IAAGA,UAAU,CAACC,IAAI,CAAC,IAAI,CAACJ,OAAO,CAACK,KAAK,CAAC,EAAC;MACrC,IAAI,CAACf,WAAW,CAACgB,KAAK,CAAC,uBAAuB,EAAE;QAAEC,QAAQ,EAAE,IAAI,CAACP,OAAO,CAACK,KAAK;QAAEV,WAAW,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;MAAC,CAAE,CAAC,CAACC,IAAI,CAAEC,GAAQ,IAAI;QAC9I,IAAI,CAACC,OAAO,GAAGD,GAAG,CAACS,IAAI;MACzB,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAI;QAAEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAAC,CAAC,CAAC;;EAE1C;EACAjB,UAAU;IACR,IAAI,CAACH,WAAW,CAACuB,GAAG,CAAC,iBAAiB,CAAC,CAACf,IAAI,CAAEC,GAAQ,IAAI;MACxD,IAAI,CAACe,MAAM,GAAGf,GAAG,CAACgB,IAAI;IAIxB,CAAC,CAAC;EACJ;CACD;AA7BY3B,eAAe,eAL3BD,SAAS,CAAC;EACT6B,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACW9B,eAAe,CA6B3B;SA7BYA,eAAe","names":["Component","AcountComponent","constructor","DataService","ngOnInit","load_profile","load_order","post","phonenumber","localStorage","getItem","then","req","profile","result","change_email","emailRegex","test","email","patch","newEmail","user","catch","err","console","log","get","orders","data","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\ttri0\\OneDrive\\Documents\\GitHub\\ANGULAR\\shop\\src\\app\\client\\acount\\acount.component.ts"],"sourcesContent":["import { DataService } from './../../service/data.service';\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-acount',\n  templateUrl: './acount.component.html',\n  styleUrls: ['./acount.component.scss']\n})\nexport class AcountComponent {\n  profile: any;\n  orders:any;\n  constructor(private DataService: DataService) { }\n  ngOnInit() {\n    this.load_profile()\n    this.load_order()\n  }\n  load_profile() {\n    this.DataService.post('/account/profile', { phonenumber: localStorage.getItem('phone') }).then((req: any) => {\n      this.profile = req.result;\n    })\n  }\n  change_email(){\n    const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if(emailRegex.test(this.profile.email)){\n      this.DataService.patch('/account/verify-email', { newEmail: this.profile.email, phonenumber: localStorage.getItem('phone') }).then((req: any) => {\n        this.profile = req.user;\n      }).catch((err) => {console.log(err);})\n    }\n  }\n  load_order(){\n    this.DataService.get(\"/account/orders\").then((req: any) => {\n      this.orders = req.data;\n      \n     \n\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
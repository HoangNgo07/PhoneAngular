{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CartComponent = class CartComponent {\n  constructor(DataService, AuthService) {\n    this.DataService = DataService;\n    this.AuthService = AuthService;\n    this.listCart = [];\n    this.totail = 0;\n  }\n  ngOnInit() {\n    this.load_Cart();\n  }\n  load_Cart() {\n    this.DataService.get(\"/cart\").then(req => {\n      this.listCart = req;\n    });\n  }\n  change_cart(id, quantity) {\n    this.listCart.forEach(item => {\n      if (item.id == id) {\n        item.quantity = quantity;\n        if (quantity == 0 || item.quantity * item.price == 0) {\n          this.listCart.splice(this.listCart.indexOf(item), 1);\n        }\n        this.DataService.patch(`/cart/${id}`, {\n          quantity: quantity\n        });\n      }\n    });\n    this.totail = this.listCart.reduce((a, b) => a.price * a.quantity + b.price * b.quantity);\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.scss']\n})], CartComponent);\nexport { CartComponent };","map":{"version":3,"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAGxBC,YAAoBC,WAAwB,EAAUC,WAAuB;IAAzD,gBAAW,GAAXD,WAAW;IAAuB,gBAAW,GAAXC,WAAW;IAFjE,aAAQ,GAAU,EAAE;IACpB,WAAM,GAAW,CAAC;EAC+D;EACjFC,QAAQ;IACN,IAAI,CAACC,SAAS,EAAE;EAElB;EACAA,SAAS;IACP,IAAI,CAACH,WAAW,CAACI,GAAG,CAAC,OAAO,CAAC,CAACC,IAAI,CAAEC,GAAQ,IAAI;MAC9C,IAAI,CAACC,QAAQ,GAAGD,GAAG;IAIrB,CAAC,CAAC;EACJ;EACCE,WAAW,CAACC,EAAM,EAACC,QAAe;IAEjC,IAAI,CAACH,QAAQ,CAACI,OAAO,CAAEC,IAAS,IAAI;MAClC,IAAGA,IAAI,CAACH,EAAE,IAAIA,EAAE,EAAC;QACfG,IAAI,CAACF,QAAQ,GAACA,QAAQ;QACtB,IAAGA,QAAQ,IAAG,CAAC,IAAEE,IAAI,CAACF,QAAQ,GAACE,IAAI,CAACC,KAAK,IAAE,CAAC,EAAC;UAC3C,IAAI,CAACN,QAAQ,CAACO,MAAM,CAAC,IAAI,CAACP,QAAQ,CAACQ,OAAO,CAACH,IAAI,CAAC,EAAC,CAAC,CAAC;;QAGrD,IAAI,CAACZ,WAAW,CAACgB,KAAK,CAAC,SAASP,EAAE,EAAE,EAAC;UAACC,QAAQ,EAACA;QAAQ,CAAC,CAAC;;IAK7D,CAAC,CAAC;IACF,IAAI,CAACO,MAAM,GAAC,IAAI,CAACV,QAAQ,CAACW,MAAM,CAAC,CAACC,CAAC,EAACC,CAAC,KAAID,CAAC,CAACN,KAAK,GAACM,CAAC,CAACT,QAAQ,GAAEU,CAAC,CAACP,KAAK,GAACO,CAAC,CAACV,QAAQ,CAAC;EAGlF;CAED;AApCYZ,aAAa,eALzBD,SAAS,CAAC;EACTwB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWzB,aAAa,CAoCzB;SApCYA,aAAa","names":["Component","CartComponent","constructor","DataService","AuthService","ngOnInit","load_Cart","get","then","req","listCart","change_cart","id","quantity","forEach","item","price","splice","indexOf","patch","totail","reduce","a","b","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\ttri0\\OneDrive\\Documents\\GitHub\\ANGULAR\\shop\\src\\app\\client\\cart\\cart.component.ts"],"sourcesContent":["import { AuthService } from './../../service/auth.service';\nimport { Component } from '@angular/core';\nimport { DataService } from './../../service/data.service';\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.scss']\n})\nexport class CartComponent {\n  listCart: any[] = []\n  totail: number = 0\n  constructor(private DataService: DataService, private AuthService:AuthService) { }\n  ngOnInit() {\n    this.load_Cart()\n    \n  }\n  load_Cart() {\n    this.DataService.get(\"/cart\").then((req: any) => {\n      this.listCart = req;\n      \n     \n\n    })\n  }\n   change_cart(id:any,quantity:number) {\n  \n    this.listCart.forEach((item: any) => {\n      if(item.id == id){\n        item.quantity=quantity\n        if(quantity ==0||item.quantity*item.price==0){\n          this.listCart.splice(this.listCart.indexOf(item),1)\n         \n        }\n        this.DataService.patch(`/cart/${id}`,{quantity:quantity})\n        \n       \n        \n      }\n    })\n    this.totail=this.listCart.reduce((a,b)=> a.price*a.quantity+ b.price*b.quantity)\n     \n    \n  }\n  \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
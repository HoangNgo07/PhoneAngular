{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../service/data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AcountComponent_tr_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 15);\n    i0.ɵɵtext(7, \"Shipped\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.date_created);\n  }\n}\nexport let AcountComponent = /*#__PURE__*/(() => {\n  class AcountComponent {\n    constructor(DataService) {\n      this.DataService = DataService;\n    }\n    ngOnInit() {\n      this.load_profile();\n      this.load_order();\n    }\n    load_profile() {\n      this.DataService.post('/account/profile', {\n        phonenumber: localStorage.getItem('phone')\n      }).then(req => {\n        this.profile = req.result;\n      });\n    }\n    change_email() {\n      const emailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n      if (emailRegex.test(this.profile.email)) {\n        this.DataService.patch('/account/verify-email', {\n          newEmail: this.profile.email,\n          phonenumber: localStorage.getItem('phone')\n        }).then(req => {\n          this.profile = req.user;\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    }\n    load_order() {\n      this.DataService.get(\"/account/orders\").then(req => {\n        this.orders = req.data;\n      });\n    }\n  }\n  AcountComponent.ɵfac = function AcountComponent_Factory(t) {\n    return new (t || AcountComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n  };\n  AcountComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AcountComponent,\n    selectors: [[\"app-acount\"]],\n    decls: 33,\n    vars: 4,\n    consts: [[1, \"container\", \"mt-5\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"card\"], [\"src\", \"https://via.placeholder.com/300x300.png?text=Profile+Image\", \"alt\", \"...\", 1, \"card-img-top\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"list-group\", \"list-group-flush\"], [1, \"list-group-item\"], [1, \"was-validated\"], [\"type\", \"email\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"col-md-8\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", \"bg-success\"]],\n    template: function AcountComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"h5\", 6);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\", 7);\n        i0.ɵɵtext(9, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"ul\", 8)(11, \"li\", 9);\n        i0.ɵɵtext(12, \"Email: \");\n        i0.ɵɵelementStart(13, \"form\", 10)(14, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function AcountComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.profile.email = $event;\n        })(\"change\", function AcountComponent_Template_input_change_14_listener() {\n          return ctx.change_email();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"li\", 9);\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"li\", 9);\n        i0.ɵɵtext(18, \"Address: 123 Main St, Anytown USA\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(19, \"div\", 12)(20, \"h2\");\n        i0.ɵɵtext(21, \"My Orders\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"table\", 13)(23, \"thead\")(24, \"tr\")(25, \"th\");\n        i0.ɵɵtext(26, \"Order ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\");\n        i0.ɵɵtext(28, \"Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"th\");\n        i0.ɵɵtext(30, \"Status\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"tbody\");\n        i0.ɵɵtemplate(32, AcountComponent_tr_32_Template, 8, 2, \"tr\", 14);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.profile.fullname);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.profile.email);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Phone: \", ctx.profile.phonenumber, \"\");\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.orders);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm]\n  });\n  return AcountComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}